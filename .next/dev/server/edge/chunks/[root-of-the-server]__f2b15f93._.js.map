{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\n\r\nexport async function middleware(request: NextRequest) {\r\n  const response = NextResponse.next()\r\n  \r\n  // Don't track visits to admin routes or API routes\r\n  if (\r\n    request.nextUrl.pathname.startsWith('/dashboard') ||\r\n    request.nextUrl.pathname.startsWith('/api/admin') ||\r\n    request.nextUrl.pathname.startsWith('/') ||\r\n    request.nextUrl.pathname === '/api/track-visit'\r\n  ) {\r\n    return response\r\n  }\r\n  \r\n  // Track visit in the background\r\n  try {\r\n    const trackVisit = async () => {\r\n      await fetch(`${request.nextUrl.origin}/api/track-visit`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      })\r\n    }\r\n    \r\n    // Fire and forget - don't wait for response\r\n    trackVisit().catch(console.error)\r\n  } catch (error) {\r\n    console.error('Error tracking visit:', error)\r\n  }\r\n  \r\n  return response\r\n}\r\n\r\nexport const config = {\r\n  matcher: [\r\n    /*\r\n     * Match all request paths except for the ones starting with:\r\n     * - _next/static (static files)\r\n     * - _next/image (image optimization files)\r\n     * - favicon.ico (favicon file)\r\n     * - public (public files)\r\n     */\r\n    '/((?!_next/static|_next/image|favicon.ico|public).*)',\r\n  ],\r\n}"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEO,eAAe,WAAW,OAAoB;IACnD,MAAM,WAAW,gMAAY,CAAC,IAAI;IAElC,mDAAmD;IACnD,IACE,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,iBACpC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,iBACpC,QAAQ,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,QACpC,QAAQ,OAAO,CAAC,QAAQ,KAAK,oBAC7B;QACA,OAAO;IACT;IAEA,gCAAgC;IAChC,IAAI;QACF,MAAM,aAAa;YACjB,MAAM,MAAM,GAAG,QAAQ,OAAO,CAAC,MAAM,CAAC,gBAAgB,CAAC,EAAE;gBACvD,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;YACF;QACF;QAEA,4CAA4C;QAC5C,aAAa,KAAK,CAAC,QAAQ,KAAK;IAClC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;IACzC;IAEA,OAAO;AACT;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;;;;;;KAMC,GACD;KACD;AACH"}}]
}